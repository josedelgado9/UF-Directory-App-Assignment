<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <link rel="stylesheet" href="style.css">
</head>

<body ng-app="directoryApp">
  <div class="container">
    <div class="row">
      <h1>UF Directory App</h1>
    </div>
    <div class="row" ng-controller="ListingsController">
      <div class="col-md-6">
        <div class="input-group" id="searchBar">
          <!-- Implement a way to filter through listings using the search bar -->
          <span class="input-group-addon" id="sizing-addon1"><span class="glyphicon glyphicon-search"></span></span>
          <input type="text" class="form-control" placeholder="Search" ng-model="filtered_listings">
        </div>
        <div class="tableWrapper">
          <table class="table table-striped table-hover">
            <tr>
              <th>Code</th>
              <th>Building Name</th>
              <th></th>
            </tr>
            <!-- Fill in the rest of the table:
                      * populate the rows with the code and name of each listing
                      * include a way to remove individual listings -->
            <tr ng-repeat="x in listings | filter: filtered_listings as result" ng-click="detailedInfo = showDetails(x)">
              <td>{{x.code}}</td>
              <td>{{x.name}}</td>
              <td><button ng-click="deleteListing($index)">X</button>
            </tr>
          </table>
        </div>
        <!--  Write an HTML form that adds new listings to the directory -->
        <div class="form-section">
          <form name="addNewListingInfo" ng-submit="addListing()">
            <br>
            <h2>Add new listing data</h2>

            <label>Code</label>
            <div class="form-entry">
              <input ng-model="form.code" type="text" placeholder="Enter code here">
            </div>

            <div class="form-entry">
              <label>Name</label>
              <input ng-model="form.name" type="text" placeholder="Enter name here" required>
            </div>

            <div class="form-entry">
              <label>Coordinates:</label>
              <br>
              <input ng-model="form.coordinates.latitude" type="text" placeholder="Enter latitude">
              <input ng-model="form.coordinates.longitude" type="text" placeholder="Enter longitude">
            </div>

            <div class="form-entry">
              <label>Address</label>
              <input ng-model="form.address" type="text" placeholder="Address">
            </div>
            <br>
            <div class="form-entry">
              <input id="button" type="submit" value="Add data">
            </div>
            <br>
          </form>
        </div>
      </div>
      <div class="col-md-6">
        <div class="jumbotron">
          <h2>Detailed Information</h2>
          <!-- 
              Include a way to display detailed information about an individual listing:
                   * consider how to use ng-click within the the table to implement this feature
             -->
          <div class="pair-info">
            <h3>Code: <span>{{detailedInfo.code}}</span></h3>
          </div>
          <div class="pair-info">
            <h3>Name: <span>{{detailedInfo.name}}</span></h3>
          </div>
          <div class="pair-info">
            <h3>Address:</h3>
            <span>{{detailedInfo.address}}</span>
          </div>
          <div class="pair-info">
            <h3>Coordinates:</h3>
            <span>Longitude: {{detailedInfo.coordinates.longitude}}</span>
            <span>Latitude: {{detailedInfo.coordinates.latitude}}</span>
          </div>
        </div>
        <img src="uf-logo.png">
      </div>
    </div>
  </div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" integrity="sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ=="
    crossorigin="anonymous"></script>
  <script src="https://code.angularjs.org/1.4.3/angular.js"></script>
  <script src="app.js"></script>
  <script src="listingController.js"></script>
  <script src="listingFactory.js"></script>
</body>

</html>